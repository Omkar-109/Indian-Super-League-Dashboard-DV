<!DOCTYPE html>
<html lang="en">
<head>
    <title>ISL Analytics Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš½ Indian Super League âš½</h1>
            <p>Comprehensive Analytics Dashboard</p>
            <div class="nav-tabs">
                <a href="{{ url_for('index') }}" class="tab {% if request.endpoint == 'index' %}active{% endif %}">Matches Stat</a>
                <a href="{{ url_for('player_stat') }}" class="tab {% if request.endpoint == 'player_stat' %}active{% endif %}">Player Stats</a>
            </div>
        </div>

        <h2>All Seasons Match Statistics</h2>
        <br>

        <!-- Text Outputs -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">{{ all_season_total_matches }}</div>
                <div class="stat-label">Total Matches Played ğŸ®</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ total_seasons }}</div>
                <div class="stat-label">Total Seasons ğŸ“…</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ total_goals }}</div>
                <div class="stat-label">Total Goals Scored âš½</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ avg_attendance }}</div>
                <div class="stat-label">Average Attendance ğŸ‘¥</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ avg_goals_per_match }}</div>
                <div class="stat-label">Average Goals per Match ğŸ¯</div>
            </div>
            <div class="stat-card highlight">
                <div class="stat-number">{{ "{:,}".format(total_attendance) }}</div>
                <div class="stat-label">Total Attendance ğŸŸï¸</div>
            </div>
        </div>
  

        <!-- Charts -->
        <div class="chart-grid">
            {% for g in graphs %}
            <div class="chart">{{ g|safe }}</div>
            {% endfor %}
        </div>

        <div class="footer">
            <p>Â© 2025 Indian Super League Analytics Dashboard | Flask + Plotly</p>
            <p>Data Source: ISL Matches 2014â€“2025</p>
        </div>
    </div>

    <script>
        window.addEventListener('load', function() {
            const charts = document.querySelectorAll('.chart div.js-plotly-plot');
            charts.forEach(chart => Plotly.Plots.resize(chart));
        });
        window.addEventListener('resize', function() {
            const charts = document.querySelectorAll('.chart div.js-plotly-plot');
            charts.forEach(chart => Plotly.Plots.resize(chart));
        });
    </script>
</body>
</html>
